<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Adpative menu without plugin</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div id="wrapper">
        <div class="row">
            <ul class="menu-inline">
                <li>
                    <a href="javascript:void(0)" data-section="section-1" class="active"> Home </a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-2"> Company </a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-3"> We're Hiring </a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-4"> Individuals </a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-5"> Products </a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-6"> Services </a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-7"> About us </a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-8"> Testimonials </a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-9"> Link 1</a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-10"> Link 2 </a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-11"> Link 3 </a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-12"> Link 4 </a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-13"> Link 5</a>
                </li>
                <li>
                    <a href="javascript:void(0)" data-section="section-14"> Link 6 </a>
                </li>
                <li class="hamburger">
                    <a href="javascript:void(0)" class="sub">
                        <span class="lines">
                            <span class="line"></span>
                            <span class="line"></span>
                            <span class="line"></span>
                        </span>
                        <span class="lines count">2</span>
                    </a>
                    <ul class="menu-dropdown">
                    </ul>

                </li>
                <li class="add-page">
                    <a href="javascript:void(0)" data-section="section-15"> + Add Page </a>
                </li>
            </ul>
        </div>
        <div class="row">
            <div class="section-container" data-target="section-1">
                <h1>Home</h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-2">
                <h1>Company</h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-3">
                <h1>We're Hiring</h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-4">
                <h1>Individuals</h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-5">
                <h1>Products</h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-6">
                <h1>Services </h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-7">
                <h1>About Us </h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-8">
                <h1>Testimonials </h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-9">
                <h1> Link 1 </h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-10">
                <h1> Link 2 </h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-11">
                <h1> Link 3 </h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-12">
                <h1> Link 4 </h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-13">
                <h1> Link 5 </h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>
            <div class="section-container" data-target="section-14">
                <h1> Link 6 </h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>

            <div class="section-container" data-target="section-15">
                <h1> Add New Page </h1>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Placeat doloremque cupiditate reprehenderit, iure aliquam natus
                    libero provident alias dignissimos dolorem maiores, inventore assumenda odit eos nesciunt quas et quisquam
                    odio.
                </p>
            </div>

        </div>
    </div>

    <script src="js/jquery-3.3.1.min.js"></script>
    <script>

        function getMenuDynamic(menuWidth) {
            var linkList = [];
            var wrapper = menuWidth - 80;
            var menuContainer = $(".menu-inline");
            var listCount = menuContainer.find("li");
            var primaryMenu = $(".menu-inline > li");
            var primaryMenuLinks = $(".menu-inline > li a");
            var listArr = Array.from(primaryMenu);
            var subMenu = $(".menu-dropdown");
            var subMenuCount = subMenu.find("li").length;

            listArr.forEach((list, index) => {
                if (!list.hasAttribute('class')) {
                    linkList.push({
                        "requiredHeight": list.clientHeight,
                        "requiredWidth": list.clientWidth,
                        "text": list.innerText,
                        "className": list.className,
                        "childClassName": list.children[0].className,
                        "href": list.children[0].href,
                        "data": list.children[0].dataset.section
                    });
                    list.remove();
                }
            });

            if (linkList.length > 0) {
                linkList.forEach((link) => {
                    let linkString = `<li><a href="${link.href}" data-section="${link.data}"> ${link.text} </a></li>`;
                    wrapper = wrapper - link.requiredWidth
                    if (wrapper > link.requiredWidth) {
                        $(linkString).insertBefore(menuContainer.find("li.hamburger"));
                    } else {
                        subMenu.append(linkString)
                    }
                });

            };

            //update submenu count
            $(".count").html($(".menu-dropdown li").length)
        }


        $(document).ready(function () {

            $(".hamburger a").hover(function () {
                $(this).addClass('active');
                $(".hamburger ul").fadeIn();
                $(".menu-dropdown a").click(() => {
                    $(".hamburger ul").hide();
                    $(this).removeClass('active');
                })
            });

            $(".menu-dropdown").hover(() => { }, () => {
                $(".hamburger ul").hide();
                $(".hamburger a").removeClass('active');
            })

            var mWidth = $("#wrapper").width();
            getMenuDynamic(mWidth);

            $(".section-container").eq(0).show();
            $(".menu-inline li:first-child a").focus();


            // accordian menu
            $(".menu-inline a").not("a.sub").click(function () {
                var dataTarget = $(this).attr("data-section");
                $(".section-container").hide();
                $("div[data-target='" + dataTarget + "']").fadeIn();
            });

        });

        var init;
        $(window).resize(function () {
            clearTimeout(init);
            init = setTimeout(() => {
                var newWidth = $("#wrapper").width();
                getMenuDynamic(newWidth)
            }, 500);
        });

    </script>
</body>

</html>